@prefix ex: <http://hybridcnc.org/ontology#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .

#################################################################
# === Ontology metadata ===
#################################################################

ex:CNCOntology a owl:Ontology ;
    rdfs:label "Hybrid CNC Failure Diagnosis Ontology" ;
    rdfs:comment "Ontology describing components, causes, symptoms, sensors, and maintenance procedures for CNC spindle failure diagnosis." .

#################################################################
# === Core classes ===
#################################################################

ex:Component a rdfs:Class ;
    rdfs:label "Component" ;
    rdfs:comment "Physical or functional part of the CNC system (e.g., spindle, cooling system, fan, bearing)." .

ex:Sensor a rdfs:Class ;
    rdfs:label "Sensor" ;
    rdfs:comment "Measurement device providing telemetry data such as temperature, vibration, or coolant flow." .

ex:Symptom a rdfs:Class ;
    rdfs:label "Symptom" ;
    rdfs:comment "Observable signal or event indicating a potential issue (e.g., high vibration, low coolant flow)." .

ex:Cause a rdfs:Class ;
    rdfs:label "Cause" ;
    rdfs:comment "Latent root cause leading to symptoms or component degradation (e.g., BearingWear, FanFault, CloggedFilter)." .

ex:Procedure a rdfs:Class ;
    rdfs:label "Maintenance Procedure" ;
    rdfs:comment "Action or intervention to fix a specific cause (e.g., ReplaceBearing, RepairFan, CleanFilter)." .

ex:ActionRecommendation a rdfs:Class ;
    rdfs:label "Action Recommendation" ;
    rdfs:comment "System decision suggesting whether to continue operation, slow down, or schedule maintenance." .

#################################################################
# === Object properties (relationships)
#################################################################

# CSV-driven alignment
ex:causesSymptom a rdf:Property ;
    rdfs:domain ex:Cause ;
    rdfs:range ex:Symptom ;
    rdfs:label "causes symptom" .

ex:affectsComponent a rdf:Property ;
    rdfs:domain ex:Cause ;
    rdfs:range ex:Component ;
    rdfs:label "affects component" .

ex:mitigates_cause a rdf:Property ;
    rdfs:domain ex:Procedure ;
    rdfs:range ex:Cause ;
    rdfs:label "mitigates cause" .

# Legacy ontology properties (still valid)
ex:hasSymptom a rdf:Property .
ex:affects a rdf:Property .
ex:fixedBy a rdf:Property .
ex:monitoredBy a rdf:Property .
ex:recommendedAction a rdf:Property .

#################################################################
# === Datatype properties (attributes)
#################################################################

ex:unit a rdf:Property ;
    rdfs:domain ex:Sensor ;
    rdfs:range xsd:string .

ex:measurementType a rdf:Property ;
    rdfs:domain ex:Sensor ;
    rdfs:range xsd:string .

ex:cost a rdf:Property ;
    rdfs:domain ex:Procedure ;
    rdfs:range xsd:float .

ex:timeH a rdf:Property ;
    rdfs:domain ex:Procedure ;
    rdfs:range xsd:float .

ex:risk a rdf:Property ;
    rdfs:domain ex:Procedure ;
    rdfs:range xsd:string .

#################################################################
# === Example individuals (instances)
#################################################################

# Components
ex:Spindle a ex:Component .
ex:CoolingSystem a ex:Component .

# Causes
ex:BearingWearHigh a ex:Cause .
ex:FanFault a ex:Cause .
ex:CloggedFilter a ex:Cause .
ex:LowCoolingEfficiency a ex:Cause .

# Symptoms
ex:HighVibration a ex:Symptom .
ex:HighSpindleTemp a ex:Symptom .
ex:LowCoolantFlow a ex:Symptom .

# Procedures
ex:ReplaceBearing a ex:Procedure .
ex:RepairFan a ex:Procedure .
ex:CleanFilter a ex:Procedure .
ex:FlushCoolant a ex:Procedure .

#################################################################
# === Relations
#################################################################

# Cause → Symptom
ex:BearingWearHigh ex:causesSymptom ex:HighVibration .
ex:FanFault ex:causesSymptom ex:HighSpindleTemp .
ex:CloggedFilter ex:causesSymptom ex:LowCoolantFlow .
ex:LowCoolingEfficiency ex:causesSymptom ex:HighSpindleTemp .

# Cause → Component
ex:BearingWearHigh ex:affectsComponent ex:Bearing .
ex:FanFault ex:affectsComponent ex:Fan .
ex:CloggedFilter ex:affectsComponent ex:Filter .
ex:LowCoolingEfficiency ex:affectsComponent ex:CoolingSystem .

# Procedure → Cause
ex:ReplaceBearing ex:mitigates_cause ex:BearingWearHigh .
ex:RepairFan ex:mitigates_cause ex:FanFault .
ex:CleanFilter ex:mitigates_cause ex:CloggedFilter .
ex:FlushCoolant ex:mitigates_cause ex:LowCoolingEfficiency .
